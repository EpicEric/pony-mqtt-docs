



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/logo.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-ponylang-0.2.6">
    
    
      
        <title>actor MQTTConnection - Pony-MQTT</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.b80b25f7.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.0b5df86e.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../#mqttconnection91optional-a-any-iso-optional-b-none-val-_sslcontext91a93-val-optional-c-none-val-_sslconnection91a9393" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
          <a href=".." title="Pony-MQTT" class="md-header-nav__button md-logo">
          
            <i class="md-icon">cloud</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Pony-MQTT
              </span>
              <span class="md-header-nav__topic">
                actor MQTTConnection
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/epiceric/pony-mqtt" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      epiceric/pony-mqtt
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon">cloud</i>
      
    </span>
    Pony-MQTT
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/epiceric/pony-mqtt" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      epiceric/pony-mqtt
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="mqtt" class="md-nav__link">
      mqtt
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      package mqtt
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        package mqtt
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt--index/" title="Package" class="md-nav__link">
      Package
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTv31/" title="primitive MQTTv31" class="md-nav__link">
      primitive MQTTv31
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTv311/" title="primitive MQTTv311" class="md-nav__link">
      primitive MQTTv311
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTVersion/" title="type MQTTVersion" class="md-nav__link">
      type MQTTVersion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-_MQTTVersionDowngradable/" title="interface _MQTTVersionDowngradable" class="md-nav__link">
      interface _MQTTVersionDowngradable
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTUtils/" title="primitive MQTTUtils" class="md-nav__link">
      primitive MQTTUtils
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTTopic/" title="primitive MQTTTopic" class="md-nav__link">
      primitive MQTTTopic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTPacket/" title="class MQTTPacket" class="md-nav__link">
      class MQTTPacket
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorConnectConnected/" title="primitive MQTTErrorConnectConnected" class="md-nav__link">
      primitive MQTTErrorConnectConnected
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorConnectSocket/" title="primitive MQTTErrorConnectSocket" class="md-nav__link">
      primitive MQTTErrorConnectSocket
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorDisconnectDisconnected/" title="primitive MQTTErrorDisconnectDisconnected" class="md-nav__link">
      primitive MQTTErrorDisconnectDisconnected
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorSubscribeTopic/" title="primitive MQTTErrorSubscribeTopic" class="md-nav__link">
      primitive MQTTErrorSubscribeTopic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorSubscribeQoS/" title="primitive MQTTErrorSubscribeQoS" class="md-nav__link">
      primitive MQTTErrorSubscribeQoS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorSubscribeConnected/" title="primitive MQTTErrorSubscribeConnected" class="md-nav__link">
      primitive MQTTErrorSubscribeConnected
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorUnsubscribeTopic/" title="primitive MQTTErrorUnsubscribeTopic" class="md-nav__link">
      primitive MQTTErrorUnsubscribeTopic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorUnsubscribeConnected/" title="primitive MQTTErrorUnsubscribeConnected" class="md-nav__link">
      primitive MQTTErrorUnsubscribeConnected
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorPublishTopic/" title="primitive MQTTErrorPublishTopic" class="md-nav__link">
      primitive MQTTErrorPublishTopic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorPublishConnected/" title="primitive MQTTErrorPublishConnected" class="md-nav__link">
      primitive MQTTErrorPublishConnected
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorConnectFailedRetry/" title="primitive MQTTErrorConnectFailedRetry" class="md-nav__link">
      primitive MQTTErrorConnectFailedRetry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorConnectFailed/" title="primitive MQTTErrorConnectFailed" class="md-nav__link">
      primitive MQTTErrorConnectFailed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorSocketRetry/" title="primitive MQTTErrorSocketRetry" class="md-nav__link">
      primitive MQTTErrorSocketRetry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorSocket/" title="primitive MQTTErrorSocket" class="md-nav__link">
      primitive MQTTErrorSocket
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorTLSConfiguration/" title="primitive MQTTErrorTLSConfiguration" class="md-nav__link">
      primitive MQTTErrorTLSConfiguration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorTLSAuthentication/" title="primitive MQTTErrorTLSAuthentication" class="md-nav__link">
      primitive MQTTErrorTLSAuthentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorConnectProtocolRetry/" title="primitive MQTTErrorConnectProtocolRetry" class="md-nav__link">
      primitive MQTTErrorConnectProtocolRetry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorConnectProtocol/" title="primitive MQTTErrorConnectProtocol" class="md-nav__link">
      primitive MQTTErrorConnectProtocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorConnectID/" title="primitive MQTTErrorConnectID" class="md-nav__link">
      primitive MQTTErrorConnectID
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorConnectServerRetry/" title="primitive MQTTErrorConnectServerRetry" class="md-nav__link">
      primitive MQTTErrorConnectServerRetry
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorConnectServer/" title="primitive MQTTErrorConnectServer" class="md-nav__link">
      primitive MQTTErrorConnectServer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorConnectAuthentication/" title="primitive MQTTErrorConnectAuthentication" class="md-nav__link">
      primitive MQTTErrorConnectAuthentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorConnectAuthorization/" title="primitive MQTTErrorConnectAuthorization" class="md-nav__link">
      primitive MQTTErrorConnectAuthorization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorSubscribeFailure/" title="primitive MQTTErrorSubscribeFailure" class="md-nav__link">
      primitive MQTTErrorSubscribeFailure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorServerCode/" title="primitive MQTTErrorServerCode" class="md-nav__link">
      primitive MQTTErrorServerCode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorUnknownCode/" title="primitive MQTTErrorUnknownCode" class="md-nav__link">
      primitive MQTTErrorUnknownCode
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTErrorUnexpectedFormat/" title="primitive MQTTErrorUnexpectedFormat" class="md-nav__link">
      primitive MQTTErrorUnexpectedFormat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTError/" title="type MQTTError" class="md-nav__link">
      type MQTTError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTConnectionNotify/" title="interface MQTTConnectionNotify" class="md-nav__link">
      interface MQTTConnectionNotify
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-MQTTConnectionInterface/" title="interface MQTTConnectionInterface" class="md-nav__link">
      interface MQTTConnectionInterface
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        actor MQTTConnection
      </label>
    
    <a href="./" title="actor MQTTConnection" class="md-nav__link md-nav__link--active">
      actor MQTTConnection
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        
          <li class="md-nav__item">
    <a href="#implements" title="Implements" class="md-nav__link">
    Implements
  </a>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#constructors" title="Constructors" class="md-nav__link">
    Constructors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#create" title="create" class="md-nav__link">
    create
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#public-fields" title="Public fields" class="md-nav__link">
    Public fields
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#let-auth-ambientauth-val" title="let auth: AmbientAuth val" class="md-nav__link">
    let auth: AmbientAuth val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#let-host-string-val" title="let host: String val" class="md-nav__link">
    let host: String val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#let-port-string-val" title="let port: String val" class="md-nav__link">
    let port: String val
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#public-behaviours" title="Public Behaviours" class="md-nav__link">
    Public Behaviours
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#disconnect" title="disconnect" class="md-nav__link">
    disconnect
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#subscribe" title="subscribe" class="md-nav__link">
    subscribe
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#unsubscribe" title="unsubscribe" class="md-nav__link">
    unsubscribe
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#publish" title="publish" class="md-nav__link">
    publish
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#dispose" title="dispose" class="md-nav__link">
    dispose
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#public-functions" title="Public Functions" class="md-nav__link">
    Public Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#local_address" title="local_address" class="md-nav__link">
    local_address
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#remote_address" title="remote_address" class="md-nav__link">
    remote_address
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#private-behaviours" title="Private Behaviours" class="md-nav__link">
    Private Behaviours
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#_connected" title="_connected" class="md-nav__link">
    _connected
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_connect_failed" title="_connect_failed" class="md-nav__link">
    _connect_failed
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_closed" title="_closed" class="md-nav__link">
    _closed
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_auth_failed" title="_auth_failed" class="md-nav__link">
    _auth_failed
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_parse_packet" title="_parse_packet" class="md-nav__link">
    _parse_packet
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_new_connection" title="_new_connection" class="md-nav__link">
    _new_connection
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_send_ping" title="_send_ping" class="md-nav__link">
    _send_ping
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_resend_packets" title="_resend_packets" class="md-nav__link">
    _resend_packets
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#private-functions" title="Private Functions" class="md-nav__link">
    Private Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#_end_connection" title="_end_connection" class="md-nav__link">
    _end_connection
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_update_version" title="_update_version" class="md-nav__link">
    _update_version
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_connect" title="_connect" class="md-nav__link">
    _connect
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_clean_timers" title="_clean_timers" class="md-nav__link">
    _clean_timers
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_disconnect" title="_disconnect" class="md-nav__link">
    _disconnect
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_subscribe" title="_subscribe" class="md-nav__link">
    _subscribe
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_unsubscribe" title="_unsubscribe" class="md-nav__link">
    _unsubscribe
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_publish" title="_publish" class="md-nav__link">
    _publish
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_puback" title="_puback" class="md-nav__link">
    _puback
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_pubrec" title="_pubrec" class="md-nav__link">
    _pubrec
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_pubrel" title="_pubrel" class="md-nav__link">
    _pubrel
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_pubcomp" title="_pubcomp" class="md-nav__link">
    _pubcomp
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_ping" title="_ping" class="md-nav__link">
    _ping
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-_MQTTPingTimer/" title="class _MQTTPingTimer" class="md-nav__link">
      class _MQTTPingTimer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-_MQTTResendTimer/" title="class _MQTTResendTimer" class="md-nav__link">
      class _MQTTResendTimer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-_MQTTReconnectTimer/" title="class _MQTTReconnectTimer" class="md-nav__link">
      class _MQTTReconnectTimer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-_SSLContext/" title="interface _SSLContext" class="md-nav__link">
      interface _SSLContext
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-_SSLConnection/" title="interface _SSLConnection" class="md-nav__link">
      interface _SSLConnection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt-_MQTTConnectionHandler/" title="class _MQTTConnectionHandler" class="md-nav__link">
      class _MQTTConnectionHandler
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      source
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        source
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../src/mqtt/version/" title="version.pony" class="md-nav__link">
      version.pony
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../src/mqtt/utils/" title="utils.pony" class="md-nav__link">
      utils.pony
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../src/mqtt/topic/" title="topic.pony" class="md-nav__link">
      topic.pony
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../src/mqtt/packet/" title="packet.pony" class="md-nav__link">
      packet.pony
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../src/mqtt/error/" title="error.pony" class="md-nav__link">
      error.pony
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../src/mqtt/connection_notify/" title="connection_notify.pony" class="md-nav__link">
      connection_notify.pony
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../src/mqtt/connection_interface/" title="connection_interface.pony" class="md-nav__link">
      connection_interface.pony
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../src/mqtt/connection/" title="connection.pony" class="md-nav__link">
      connection.pony
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../src/mqtt/_timer/" title="_timer.pony" class="md-nav__link">
      _timer.pony
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../src/mqtt/_ssl/" title="_ssl.pony" class="md-nav__link">
      _ssl.pony
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../src/mqtt/_connection_handler/" title="_connection_handler.pony" class="md-nav__link">
      _connection_handler.pony
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        
          <li class="md-nav__item">
    <a href="#implements" title="Implements" class="md-nav__link">
    Implements
  </a>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#constructors" title="Constructors" class="md-nav__link">
    Constructors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#create" title="create" class="md-nav__link">
    create
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#public-fields" title="Public fields" class="md-nav__link">
    Public fields
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#let-auth-ambientauth-val" title="let auth: AmbientAuth val" class="md-nav__link">
    let auth: AmbientAuth val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#let-host-string-val" title="let host: String val" class="md-nav__link">
    let host: String val
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#let-port-string-val" title="let port: String val" class="md-nav__link">
    let port: String val
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#public-behaviours" title="Public Behaviours" class="md-nav__link">
    Public Behaviours
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#disconnect" title="disconnect" class="md-nav__link">
    disconnect
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#subscribe" title="subscribe" class="md-nav__link">
    subscribe
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#unsubscribe" title="unsubscribe" class="md-nav__link">
    unsubscribe
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#publish" title="publish" class="md-nav__link">
    publish
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#dispose" title="dispose" class="md-nav__link">
    dispose
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#public-functions" title="Public Functions" class="md-nav__link">
    Public Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#local_address" title="local_address" class="md-nav__link">
    local_address
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#remote_address" title="remote_address" class="md-nav__link">
    remote_address
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#private-behaviours" title="Private Behaviours" class="md-nav__link">
    Private Behaviours
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#_connected" title="_connected" class="md-nav__link">
    _connected
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_connect_failed" title="_connect_failed" class="md-nav__link">
    _connect_failed
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_closed" title="_closed" class="md-nav__link">
    _closed
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_auth_failed" title="_auth_failed" class="md-nav__link">
    _auth_failed
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_parse_packet" title="_parse_packet" class="md-nav__link">
    _parse_packet
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_new_connection" title="_new_connection" class="md-nav__link">
    _new_connection
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_send_ping" title="_send_ping" class="md-nav__link">
    _send_ping
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_resend_packets" title="_resend_packets" class="md-nav__link">
    _resend_packets
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
        
          <li class="md-nav__item">
    <a href="#private-functions" title="Private Functions" class="md-nav__link">
    Private Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          
            <li class="md-nav__item">
    <a href="#_end_connection" title="_end_connection" class="md-nav__link">
    _end_connection
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_update_version" title="_update_version" class="md-nav__link">
    _update_version
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_connect" title="_connect" class="md-nav__link">
    _connect
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_clean_timers" title="_clean_timers" class="md-nav__link">
    _clean_timers
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_disconnect" title="_disconnect" class="md-nav__link">
    _disconnect
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_subscribe" title="_subscribe" class="md-nav__link">
    _subscribe
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_unsubscribe" title="_unsubscribe" class="md-nav__link">
    _unsubscribe
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_publish" title="_publish" class="md-nav__link">
    _publish
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_puback" title="_puback" class="md-nav__link">
    _puback
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_pubrec" title="_pubrec" class="md-nav__link">
    _pubrec
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_pubrel" title="_pubrel" class="md-nav__link">
    _pubrel
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_pubcomp" title="_pubcomp" class="md-nav__link">
    _pubcomp
  </a>
  
</li>
          
        
          
            <li class="md-nav__item">
    <a href="#_ping" title="_ping" class="md-nav__link">
    _ping
  </a>
  
</li>
          
        
      </ul>
    </nav>
  
</li>
        
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="mqttconnection91optional-a-any-iso-optional-b-none-val-_sslcontext91a93-val-optional-c-none-val-_sslconnection91a9393">MQTTConnection[optional A: <a href="https://stdlib.ponylang.io/builtin-Any/">Any</a> iso, optional B: (<a href="https://stdlib.ponylang.io/builtin-None/">None</a> val | <a href="../mqtt-_SSLContext/">_SSLContext</a>[A] val), optional C: (<a href="https://stdlib.ponylang.io/builtin-None/">None</a> val | <a href="../mqtt-_SSLConnection/">_SSLConnection</a>[A])]<a class="headerlink" href="#mqttconnection91optional-a-any-iso-optional-b-none-val-_sslcontext91a93-val-optional-c-none-val-_sslconnection91a9393" title="Permanent link">&para;</a></h1>
<p><span class="source-link"><a href="../src/mqtt/connection/#L7">[Source]</a></span></p>
<p>An actor that handles the connection to the MQTT server in the background.
When created, it establishes a TCP connection to the specified broker and
exchanges messages according to the protocol version. Afterwards, it can be
called by the user to execute actions such as publishing messages or
subscribing to topics, and triggers events in an MQTTConnectionNotify class
when receiving a request from the server or when encountering an error.</p>
<p>It creates a TCPConnectionNotify object of its own, to interface with a TCP
connection only through it. It also creates three different timers to organize
its workflow. he user can also specify reconnection, making this class dispose
of all current state and attempt to establish a new connection.</p>
<p>During execution, it may also raise one of many errors to the notify class.</p>
<p>In order to use the <a href="https://github.com/ponylang/net-ssl"><code>net-ssl</code></a> package,
declare this actor with the following type parameters:</p>
<pre><code class="pony">use &quot;net_ssl&quot;

...

conn = MQTTConnection[SSL iso, SSLContext, SSLConnection](...)
</code></pre>

<pre><code class="pony">actor tag MQTTConnection[optional A: Any iso, optional B: (None val | _SSLContext[A] val), optional C: (None val | _SSLConnection[A])] is
  MQTTConnectionInterface tag
</code></pre>

<h4 id="implements">Implements<a class="headerlink" href="#implements" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="../mqtt-MQTTConnectionInterface/">MQTTConnectionInterface</a> tag</li>
</ul>
<hr />
<h2 id="constructors">Constructors<a class="headerlink" href="#constructors" title="Permanent link">&para;</a></h2>
<h3 id="create">create<a class="headerlink" href="#create" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L118">[Source]</a></span></p>
<p>Creates a connection to the MQTT server, interfacing the TCP connection
with a user-defined MQTT notify class, by handling incoming and outgoing
requests.</p>
<p>The arguments are:</p>
<ul>
<li><code>auth'</code>: <strong>(required)</strong> The connection authority used in the TCP backend.
Usually, this value is a cast from <code>env.root</code>.</li>
<li><code>notify'</code>: <strong>(required)</strong>  The <code>MQTTConnectionNotify</code> implemented by the
user which will receive messages and interact with the MQTT client.</li>
<li><code>host'</code>: <strong>(required)</strong>  The host where the MQTT broker is located, such
as <code>localhost</code>, <code>37.187.106.16</code>, or <code>test.mosquitto.org</code>.</li>
<li><code>port'</code>: The port for the MQTT service. By default, most brokers use port
<code>1883</code>.</li>
<li><code>keepalive'</code>: Duration in seconds for the keepalive mechanism. If set to
<code>0</code>, the keepalive mechanism is disabled, but ping messages will still be
sent once in a while to avoid inactivity. Default is <code>15</code>.</li>
<li><code>version'</code>: The version of the communication protocol. By default, it
uses the fourth release of the protocol, version 3.1.1.</li>
<li><code>retry_connection'</code>: When the connection is closed by the server or due
to a client error, attempt to reconnect at the specified interval in
seconds. A value of zero means no attempt to reconnect will be made.
Default is <code>0</code>.</li>
<li><code>clean_session'</code>: Controls whether the broker should not store
<a href="https://www.hivemq.com/blog/mqtt-essentials-part-7-persistent-session-queuing-messages">a persistent session</a>
for this connection. Sessions for a same client are identified by the
<code>client_id'</code> parameter. Default is <code>true</code>.</li>
<li><code>sslctx'</code>: An SSLContext object, with client and certificate authority
set appropriately, used when connecting to a TLS port in a broker. A value
of <code>None</code> means no security will be implemented over the socket. Default is
<code>None</code>.</li>
<li><code>sslhost'</code>: A String representing a host for signed certificates. If the
hostname isn't part of the certificate, leave it blank. Default is <code>""</code>.</li>
<li><code>will_packet'</code>: MQTT allows the client to send a
<a href="http://docs.oasis-open.org/mqtt/mqtt/v3.1.1/os/mqtt-v3.1.1-os.html#_Will_Flag">will message</a>
when the connection with the server is unexpectedly lost. If this field is
an MQTTPacket with a valid topic, then the specified package will be sent
unless the client gracefully disconnects with the <code>disconnect()</code> behaviour
without providing the will parameter.</li>
<li><code>client_id'</code>: A string that will be used as the client ID to the broker
for this session. By default, it will generate a random string with 8
hexadecimal characters.</li>
<li><code>user'</code>: A string with the username to authenticate to the broker. If
<code>None</code> or empty, no authentication will be made. Default is <code>None</code>.</li>
<li><code>pass'</code>: A string with the password to authenticate to the broker. If
<code>None</code> or empty, an empty password will be used if <code>user'</code> is not <code>None</code>.
Default is <code>None</code>.</li>
</ul>
<pre><code class="pony">new tag create(
  auth': AmbientAuth val,
  notify': MQTTConnectionNotify iso,
  host': String val,
  port': String val = &quot;1883&quot;,
  keepalive': U16 val = 15,
  version': (MQTTv31 val | MQTTv311 val) = reference,
  retry_connection': U64 val = 0,
  clean_session': Bool val = true,
  sslctx': (B | None val) = reference,
  sslhost': String val = &quot;&quot;,
  will_packet': (MQTTPacket val | None val) = reference,
  client_id': String val = &quot;&quot;,
  user': (String val | None val) = reference,
  pass': (String val | None val) = reference)
: MQTTConnection[A, B, C] tag^
</code></pre>

<h4 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h4>
<ul>
<li>auth': <a href="https://stdlib.ponylang.io/builtin-AmbientAuth/">AmbientAuth</a> val</li>
<li>notify': <a href="../mqtt-MQTTConnectionNotify/">MQTTConnectionNotify</a> iso</li>
<li>host': <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val</li>
<li>port': <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val = "1883"</li>
<li>keepalive': <a href="https://stdlib.ponylang.io/builtin-U16/">U16</a> val = 15</li>
<li>version': (<a href="../mqtt-MQTTv31/">MQTTv31</a> val | <a href="../mqtt-MQTTv311/">MQTTv311</a> val) = reference</li>
<li>retry_connection': <a href="https://stdlib.ponylang.io/builtin-U64/">U64</a> val = 0</li>
<li>clean_session': <a href="https://stdlib.ponylang.io/builtin-Bool/">Bool</a> val = true</li>
<li>sslctx': (B | <a href="https://stdlib.ponylang.io/builtin-None/">None</a> val) = reference</li>
<li>sslhost': <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val = ""</li>
<li>will_packet': (<a href="../mqtt-MQTTPacket/">MQTTPacket</a> val | <a href="https://stdlib.ponylang.io/builtin-None/">None</a> val) = reference</li>
<li>client_id': <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val = ""</li>
<li>user': (<a href="https://stdlib.ponylang.io/builtin-String/">String</a> val | <a href="https://stdlib.ponylang.io/builtin-None/">None</a> val) = reference</li>
<li>pass': (<a href="https://stdlib.ponylang.io/builtin-String/">String</a> val | <a href="https://stdlib.ponylang.io/builtin-None/">None</a> val) = reference</li>
</ul>
<h4 id="returns">Returns<a class="headerlink" href="#returns" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="./">MQTTConnection</a>[A, B, C] tag^</li>
</ul>
<hr />
<h2 id="public-fields">Public fields<a class="headerlink" href="#public-fields" title="Permanent link">&para;</a></h2>
<h3 id="let-auth-ambientauth-val">let auth: <a href="https://stdlib.ponylang.io/builtin-AmbientAuth/">AmbientAuth</a> val<a class="headerlink" href="#let-auth-ambientauth-val" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L39">[Source]</a></span></p>
<p>The connection authority used in the TCP backend. Usually, this value is a
cast from <code>env.root</code>.</p>
<hr />
<h3 id="let-host-string-val">let host: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val<a class="headerlink" href="#let-host-string-val" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L45">[Source]</a></span></p>
<p>The host where the MQTT broker is located, such as <code>localhost</code>,
<code>37.187.106.16</code>, or <code>test.mosquitto.org</code>.</p>
<hr />
<h3 id="let-port-string-val">let port: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val<a class="headerlink" href="#let-port-string-val" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L51">[Source]</a></span></p>
<p>The port for the MQTT service. By default, most brokers use port <code>1883</code> for
unsecure connections.</p>
<hr />
<h2 id="public-behaviours">Public Behaviours<a class="headerlink" href="#public-behaviours" title="Permanent link">&para;</a></h2>
<h3 id="disconnect">disconnect<a class="headerlink" href="#disconnect" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L805">[Source]</a></span></p>
<p>Sends a DISCONNECT request to the broker, and gracefully ends the MQTT and
TCP connections.</p>
<p>If send_will is true, the will packet will be sent before disconnecting.</p>
<pre><code class="pony">be disconnect(
  send_will: Bool val = false)
</code></pre>

<h4 id="parameters_1">Parameters<a class="headerlink" href="#parameters_1" title="Permanent link">&para;</a></h4>
<ul>
<li>send_will: <a href="https://stdlib.ponylang.io/builtin-Bool/">Bool</a> val = false</li>
</ul>
<hr />
<h3 id="subscribe">subscribe<a class="headerlink" href="#subscribe" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L814">[Source]</a></span></p>
<p>Sends a SUBSCRIBE request to the broker for the associated topic filter,
with the specified QoS level.</p>
<pre><code class="pony">be subscribe(
  topic: String val,
  qos: U8 val = 0)
</code></pre>

<h4 id="parameters_2">Parameters<a class="headerlink" href="#parameters_2" title="Permanent link">&para;</a></h4>
<ul>
<li>topic: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val</li>
<li>qos: <a href="https://stdlib.ponylang.io/builtin-U8/">U8</a> val = 0</li>
</ul>
<hr />
<h3 id="unsubscribe">unsubscribe<a class="headerlink" href="#unsubscribe" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L821">[Source]</a></span></p>
<p>Sends an UNSUBSCRIBE request to the broker from the associated topic filter.</p>
<pre><code class="pony">be unsubscribe(
  topic: String val)
</code></pre>

<h4 id="parameters_3">Parameters<a class="headerlink" href="#parameters_3" title="Permanent link">&para;</a></h4>
<ul>
<li>topic: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val</li>
</ul>
<hr />
<h3 id="publish">publish<a class="headerlink" href="#publish" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L827">[Source]</a></span></p>
<p>Sends a PUBLISH request for the provided packet message, along with desired
topic, QoS, and retain flag.</p>
<p>This behaviour will strip any package control ID.</p>
<pre><code class="pony">be publish(
  packet: MQTTPacket val)
</code></pre>

<h4 id="parameters_4">Parameters<a class="headerlink" href="#parameters_4" title="Permanent link">&para;</a></h4>
<ul>
<li>packet: <a href="../mqtt-MQTTPacket/">MQTTPacket</a> val</li>
</ul>
<hr />
<h3 id="dispose">dispose<a class="headerlink" href="#dispose" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L841">[Source]</a></span></p>
<p>Disposes of this connection.</p>
<pre><code class="pony">be dispose()
</code></pre>

<hr />
<h2 id="public-functions">Public Functions<a class="headerlink" href="#public-functions" title="Permanent link">&para;</a></h2>
<h3 id="local_address">local_address<a class="headerlink" href="#local_address" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L847">[Source]</a></span></p>
<p>Returns the network address of this client. The result is the same of
<code>TCPConnection.local_address()?</code>.</p>
<pre><code class="pony">fun box local_address()
: NetAddress val ?
</code></pre>

<h4 id="returns_1">Returns<a class="headerlink" href="#returns_1" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/net-NetAddress/">NetAddress</a> val ?</li>
</ul>
<hr />
<h3 id="remote_address">remote_address<a class="headerlink" href="#remote_address" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L854">[Source]</a></span></p>
<p>Returns the network address of the broker. The result is the same of
<code>TCPConnection.remote_address()?</code>.</p>
<pre><code class="pony">fun box remote_address()
: NetAddress val ?
</code></pre>

<h4 id="returns_2">Returns<a class="headerlink" href="#returns_2" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/net-NetAddress/">NetAddress</a> val ?</li>
</ul>
<hr />
<h2 id="private-behaviours">Private Behaviours<a class="headerlink" href="#private-behaviours" title="Permanent link">&para;</a></h2>
<h3 id="_connected">_connected<a class="headerlink" href="#_connected" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L234">[Source]</a></span></p>
<pre><code class="pony">be _connected(
  conn: TCPConnection tag,
  local_address': NetAddress val,
  remote_address': NetAddress val)
</code></pre>

<h4 id="parameters_5">Parameters<a class="headerlink" href="#parameters_5" title="Permanent link">&para;</a></h4>
<ul>
<li>conn: <a href="https://stdlib.ponylang.io/net-TCPConnection/">TCPConnection</a> tag</li>
<li>local_address': <a href="https://stdlib.ponylang.io/net-NetAddress/">NetAddress</a> val</li>
<li>remote_address': <a href="https://stdlib.ponylang.io/net-NetAddress/">NetAddress</a> val</li>
</ul>
<hr />
<h3 id="_connect_failed">_connect_failed<a class="headerlink" href="#_connect_failed" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L249">[Source]</a></span></p>
<pre><code class="pony">be _connect_failed(
  conn: TCPConnection tag)
</code></pre>

<h4 id="parameters_6">Parameters<a class="headerlink" href="#parameters_6" title="Permanent link">&para;</a></h4>
<ul>
<li>conn: <a href="https://stdlib.ponylang.io/net-TCPConnection/">TCPConnection</a> tag</li>
</ul>
<hr />
<h3 id="_closed">_closed<a class="headerlink" href="#_closed" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L263">[Source]</a></span></p>
<pre><code class="pony">be _closed(
  conn: TCPConnection tag)
</code></pre>

<h4 id="parameters_7">Parameters<a class="headerlink" href="#parameters_7" title="Permanent link">&para;</a></h4>
<ul>
<li>conn: <a href="https://stdlib.ponylang.io/net-TCPConnection/">TCPConnection</a> tag</li>
</ul>
<hr />
<h3 id="_auth_failed">_auth_failed<a class="headerlink" href="#_auth_failed" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L282">[Source]</a></span></p>
<pre><code class="pony">be _auth_failed(
  conn: TCPConnection tag)
</code></pre>

<h4 id="parameters_8">Parameters<a class="headerlink" href="#parameters_8" title="Permanent link">&para;</a></h4>
<ul>
<li>conn: <a href="https://stdlib.ponylang.io/net-TCPConnection/">TCPConnection</a> tag</li>
</ul>
<hr />
<h3 id="_parse_packet">_parse_packet<a class="headerlink" href="#_parse_packet" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L293">[Source]</a></span></p>
<p>Parses and acts according to a single control packet.</p>
<pre><code class="pony">be _parse_packet(
  conn: TCPConnection tag,
  data: Array[U8 val] val)
</code></pre>

<h4 id="parameters_9">Parameters<a class="headerlink" href="#parameters_9" title="Permanent link">&para;</a></h4>
<ul>
<li>conn: <a href="https://stdlib.ponylang.io/net-TCPConnection/">TCPConnection</a> tag</li>
<li>data: <a href="https://stdlib.ponylang.io/builtin-Array/">Array</a>[<a href="https://stdlib.ponylang.io/builtin-U8/">U8</a> val] val</li>
</ul>
<hr />
<h3 id="_new_connection">_new_connection<a class="headerlink" href="#_new_connection" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L466">[Source]</a></span></p>
<pre><code class="pony">be _new_connection()
</code></pre>

<hr />
<h3 id="_send_ping">_send_ping<a class="headerlink" href="#_send_ping" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L776">[Source]</a></span></p>
<p>Timer-callable ping.</p>
<pre><code class="pony">be _send_ping()
</code></pre>

<hr />
<h3 id="_resend_packets">_resend_packets<a class="headerlink" href="#_resend_packets" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L782">[Source]</a></span></p>
<p>Handles any unconfirmed QoS 1 or 2 publish packets by
redoing its action.</p>
<pre><code class="pony">be _resend_packets()
</code></pre>

<hr />
<h2 id="private-functions">Private Functions<a class="headerlink" href="#private-functions" title="Permanent link">&para;</a></h2>
<h3 id="_end_connection">_end_connection<a class="headerlink" href="#_end_connection" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L438">[Source]</a></span></p>
<p>Clears data when the connection is ended.</p>
<pre><code class="pony">fun ref _end_connection(
  clear_conn: Bool val = true)
: None val
</code></pre>

<h4 id="parameters_10">Parameters<a class="headerlink" href="#parameters_10" title="Permanent link">&para;</a></h4>
<ul>
<li>clear_conn: <a href="https://stdlib.ponylang.io/builtin-Bool/">Bool</a> val = true</li>
</ul>
<h4 id="returns_3">Returns<a class="headerlink" href="#returns_3" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_update_version">_update_version<a class="headerlink" href="#_update_version" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L457">[Source]</a></span></p>
<pre><code class="pony">fun ref _update_version(
  version: (MQTTv31 val | MQTTv311 val))
: None val
</code></pre>

<h4 id="parameters_11">Parameters<a class="headerlink" href="#parameters_11" title="Permanent link">&para;</a></h4>
<ul>
<li>version: (<a href="../mqtt-MQTTv31/">MQTTv31</a> val | <a href="../mqtt-MQTTv311/">MQTTv311</a> val)</li>
</ul>
<h4 id="returns_4">Returns<a class="headerlink" href="#returns_4" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_connect">_connect<a class="headerlink" href="#_connect" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L498">[Source]</a></span></p>
<p>Sends a CONNECTION control packet to the server after establishing
a TCP connection.</p>
<pre><code class="pony">fun ref _connect()
: None val
</code></pre>

<h4 id="returns_5">Returns<a class="headerlink" href="#returns_5" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_clean_timers">_clean_timers<a class="headerlink" href="#_clean_timers" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L585">[Source]</a></span></p>
<pre><code class="pony">fun ref _clean_timers()
: None val
</code></pre>

<h4 id="returns_6">Returns<a class="headerlink" href="#returns_6" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_disconnect">_disconnect<a class="headerlink" href="#_disconnect" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L595">[Source]</a></span></p>
<pre><code class="pony">fun ref _disconnect(
  send_will: Bool val = false)
: None val
</code></pre>

<h4 id="parameters_12">Parameters<a class="headerlink" href="#parameters_12" title="Permanent link">&para;</a></h4>
<ul>
<li>send_will: <a href="https://stdlib.ponylang.io/builtin-Bool/">Bool</a> val = false</li>
</ul>
<h4 id="returns_7">Returns<a class="headerlink" href="#returns_7" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_subscribe">_subscribe<a class="headerlink" href="#_subscribe" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L611">[Source]</a></span></p>
<pre><code class="pony">fun ref _subscribe(
  topic: String val,
  qos: U8 val = 0,
  id: U16 val = 0)
: None val
</code></pre>

<h4 id="parameters_13">Parameters<a class="headerlink" href="#parameters_13" title="Permanent link">&para;</a></h4>
<ul>
<li>topic: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val</li>
<li>qos: <a href="https://stdlib.ponylang.io/builtin-U8/">U8</a> val = 0</li>
<li>id: <a href="https://stdlib.ponylang.io/builtin-U16/">U16</a> val = 0</li>
</ul>
<h4 id="returns_8">Returns<a class="headerlink" href="#returns_8" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_unsubscribe">_unsubscribe<a class="headerlink" href="#_unsubscribe" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L646">[Source]</a></span></p>
<pre><code class="pony">fun ref _unsubscribe(
  topic: String val,
  id: U16 val = 0)
: None val
</code></pre>

<h4 id="parameters_14">Parameters<a class="headerlink" href="#parameters_14" title="Permanent link">&para;</a></h4>
<ul>
<li>topic: <a href="https://stdlib.ponylang.io/builtin-String/">String</a> val</li>
<li>id: <a href="https://stdlib.ponylang.io/builtin-U16/">U16</a> val = 0</li>
</ul>
<h4 id="returns_9">Returns<a class="headerlink" href="#returns_9" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_publish">_publish<a class="headerlink" href="#_publish" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L676">[Source]</a></span></p>
<pre><code class="pony">fun ref _publish(
  packet: MQTTPacket val)
: None val
</code></pre>

<h4 id="parameters_15">Parameters<a class="headerlink" href="#parameters_15" title="Permanent link">&para;</a></h4>
<ul>
<li>packet: <a href="../mqtt-MQTTPacket/">MQTTPacket</a> val</li>
</ul>
<h4 id="returns_10">Returns<a class="headerlink" href="#returns_10" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_puback">_puback<a class="headerlink" href="#_puback" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L717">[Source]</a></span></p>
<p>Acknowledges a QoS 1 publish from the server.</p>
<pre><code class="pony">fun ref _puback(
  packet: MQTTPacket val)
: None val
</code></pre>

<h4 id="parameters_16">Parameters<a class="headerlink" href="#parameters_16" title="Permanent link">&para;</a></h4>
<ul>
<li>packet: <a href="../mqtt-MQTTPacket/">MQTTPacket</a> val</li>
</ul>
<h4 id="returns_11">Returns<a class="headerlink" href="#returns_11" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_pubrec">_pubrec<a class="headerlink" href="#_pubrec" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L728">[Source]</a></span></p>
<p>Acknowledges a QoS 2 publish from the server.</p>
<pre><code class="pony">fun ref _pubrec(
  packet: MQTTPacket val)
: None val
</code></pre>

<h4 id="parameters_17">Parameters<a class="headerlink" href="#parameters_17" title="Permanent link">&para;</a></h4>
<ul>
<li>packet: <a href="../mqtt-MQTTPacket/">MQTTPacket</a> val</li>
</ul>
<h4 id="returns_12">Returns<a class="headerlink" href="#returns_12" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_pubrel">_pubrel<a class="headerlink" href="#_pubrel" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L740">[Source]</a></span></p>
<p>Finalizes a QoS 2 publish from the client.</p>
<pre><code class="pony">fun ref _pubrel(
  packet: MQTTPacket val)
: None val
</code></pre>

<h4 id="parameters_18">Parameters<a class="headerlink" href="#parameters_18" title="Permanent link">&para;</a></h4>
<ul>
<li>packet: <a href="../mqtt-MQTTPacket/">MQTTPacket</a> val</li>
</ul>
<h4 id="returns_13">Returns<a class="headerlink" href="#returns_13" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_pubcomp">_pubcomp<a class="headerlink" href="#_pubcomp" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L752">[Source]</a></span></p>
<p>Finalizes a QoS 2 publish from the server.</p>
<pre><code class="pony">fun ref _pubcomp(
  packet: MQTTPacket val)
: None val
</code></pre>

<h4 id="parameters_19">Parameters<a class="headerlink" href="#parameters_19" title="Permanent link">&para;</a></h4>
<ul>
<li>packet: <a href="../mqtt-MQTTPacket/">MQTTPacket</a> val</li>
</ul>
<h4 id="returns_14">Returns<a class="headerlink" href="#returns_14" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
<h3 id="_ping">_ping<a class="headerlink" href="#_ping" title="Permanent link">&para;</a></h3>
<p><span class="source-link"><a href="../src/mqtt/connection/#L763">[Source]</a></span></p>
<p>Pings the server in order to keep the connection alive.</p>
<pre><code class="pony">fun ref _ping()
: None val
</code></pre>

<h4 id="returns_15">Returns<a class="headerlink" href="#returns_15" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stdlib.ponylang.io/builtin-None/">None</a> val</li>
</ul>
<hr />
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../mqtt-MQTTConnectionInterface/" title="interface MQTTConnectionInterface" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                interface MQTTConnectionInterface
              </span>
            </div>
          </a>
        
        
          <a href="../mqtt-_MQTTPingTimer/" title="class _MQTTPingTimer" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                class _MQTTPingTimer
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
    <script src="../assets/javascripts/application.c1ad9e36.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>